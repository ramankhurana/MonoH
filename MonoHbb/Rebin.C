#include "TH1F.h"
void Rebin(){

  TFile* f = new TFile("signal.root","update");
  double metbins[]={200.,350.,500.,1000.};
  
  TT_ = (TH1F*) f->Get("TT");
  
DIBOSON_ = (TH1F*) f->Get("DIBOSON");
  DYJets_ = (TH1F*) f->Get("DYJets");
  WJets_ = (TH1F*) f->Get("WJets");
  ZH_ = (TH1F*) f->Get("ZH");
  monoHbbM600_300_ = (TH1F*) f->Get("monoHbbM600_300");
  monoHbbM800_300_ = (TH1F*) f->Get("monoHbbM800_300");
  monoHbbM1000_300_ = (TH1F*) f->Get("monoHbbM1000_300");
  monoHbbM1200_300_ = (TH1F*) f->Get("monoHbbM1200_300");
  monoHbbM1400_300_ = (TH1F*) f->Get("monoHbbM1400_300");
  monoHbbM1700_300_ = (TH1F*) f->Get("monoHbbM1700_300");
  monoHbbM2000_300_ = (TH1F*) f->Get("monoHbbM2000_300");
  monoHbbM2500_300_ = (TH1F*) f->Get("monoHbbM2500_300");
  monoHbbM600_400_ = (TH1F*) f->Get("monoHbbM600_400");
  monoHbbM800_400_ = (TH1F*) f->Get("monoHbbM800_400");
  monoHbbM1000_400_ = (TH1F*) f->Get("monoHbbM1000_400");
  monoHbbM1200_400_ = (TH1F*) f->Get("monoHbbM1200_400");
  monoHbbM1400_400_ = (TH1F*) f->Get("monoHbbM1400_400");
  monoHbbM1700_400_ = (TH1F*) f->Get("monoHbbM1700_400");
  monoHbbM2000_400_ = (TH1F*) f->Get("monoHbbM2000_400");
  monoHbbM2500_400_ = (TH1F*) f->Get("monoHbbM2500_400");
  monoHbbM800_500_ = (TH1F*) f->Get("monoHbbM800_500");
  monoHbbM1000_500_ = (TH1F*) f->Get("monoHbbM1000_500");
  monoHbbM1200_500_ = (TH1F*) f->Get("monoHbbM1200_500");
  monoHbbM1400_500_ = (TH1F*) f->Get("monoHbbM1400_500");
  monoHbbM1700_500_ = (TH1F*) f->Get("monoHbbM1700_500");
  monoHbbM2000_500_ = (TH1F*) f->Get("monoHbbM2000_500");
  monoHbbM2500_500_ = (TH1F*) f->Get("monoHbbM2500_500");
  monoHbbM800_600_ = (TH1F*) f->Get("monoHbbM800_600");
  monoHbbM1000_600_ = (TH1F*) f->Get("monoHbbM1000_600");
  monoHbbM1200_600_ = (TH1F*) f->Get("monoHbbM1200_600");
  monoHbbM1400_600_ = (TH1F*) f->Get("monoHbbM1400_600");
  monoHbbM1700_600_ = (TH1F*) f->Get("monoHbbM1700_600");
  monoHbbM2000_600_ = (TH1F*) f->Get("monoHbbM2000_600");
  monoHbbM2500_600_ = (TH1F*) f->Get("monoHbbM2500_600");
  monoHbbM1200_700_ = (TH1F*) f->Get("monoHbbM1200_700");
  monoHbbM1400_700_ = (TH1F*) f->Get("monoHbbM1400_700");
  monoHbbM1700_700_ = (TH1F*) f->Get("monoHbbM1700_700");
  monoHbbM2000_700_ = (TH1F*) f->Get("monoHbbM2000_700");
  monoHbbM2500_700_ = (TH1F*) f->Get("monoHbbM2500_700");
  monoHbbM1000_800_ = (TH1F*) f->Get("monoHbbM1000_800");
  monoHbbM1200_800_ = (TH1F*) f->Get("monoHbbM1200_800");
  monoHbbM1400_800_ = (TH1F*) f->Get("monoHbbM1400_800");
  monoHbbM1700_800_ = (TH1F*) f->Get("monoHbbM1700_800");
  monoHbbM2000_800_ = (TH1F*) f->Get("monoHbbM2000_800");
  monoHbbM2500_800_ = (TH1F*) f->Get("monoHbbM2500_800");

  //TH1F* TT_1 = new ; 
  TH1F* TT_1 = (TH1F*) TT_->Rebin(3,"TT_1",metbins);

  DIBOSON_->Rebin(3,"DIBOSON_",metbins);
    DYJets_->Rebin(3,"DYJets_",metbins);
    WJets_->Rebin(3,"WJets_",metbins);
    ZH_->Rebin(3,"ZH_",metbins);
    monoHbbM600_300_->Rebin(3,"monoHbbM600_300_",metbins);
    monoHbbM800_300_->Rebin(3,"monoHbbM800_300_",metbins);
    monoHbbM1000_300_->Rebin(3,"monoHbbM1000_300_",metbins);
    monoHbbM1200_300_->Rebin(3,"monoHbbM1200_300_",metbins);
    monoHbbM1400_300_->Rebin(3,"monoHbbM1400_300_",metbins);
    monoHbbM1700_300_->Rebin(3,"monoHbbM1700_300_",metbins);
    monoHbbM2000_300_->Rebin(3,"monoHbbM2000_300_",metbins);
    monoHbbM2500_300_->Rebin(3,"monoHbbM2500_300_",metbins);
    monoHbbM600_400_->Rebin(3,"monoHbbM600_400_",metbins);
    monoHbbM800_400_->Rebin(3,"monoHbbM800_400_",metbins);
    monoHbbM1000_400_->Rebin(3,"monoHbbM1000_400_",metbins);
    monoHbbM1200_400_->Rebin(3,"monoHbbM1200_400_",metbins);
    monoHbbM1400_400_->Rebin(3,"monoHbbM1400_400_",metbins);
    monoHbbM1700_400_->Rebin(3,"monoHbbM1700_400_",metbins);
    monoHbbM2000_400_->Rebin(3,"monoHbbM2000_400_",metbins);
    monoHbbM2500_400_->Rebin(3,"monoHbbM2500_400_",metbins);
    monoHbbM800_500_->Rebin(3,"monoHbbM800_500_",metbins);
    monoHbbM1000_500_->Rebin(3,"monoHbbM1000_500_",metbins);
    monoHbbM1200_500_->Rebin(3,"monoHbbM1200_500_",metbins);
    monoHbbM1400_500_->Rebin(3,"monoHbbM1400_500_",metbins);
    monoHbbM1700_500_->Rebin(3,"monoHbbM1700_500_",metbins);
    monoHbbM2000_500_->Rebin(3,"monoHbbM2000_500_",metbins);
    monoHbbM2500_500_->Rebin(3,"monoHbbM2500_500_",metbins);
    monoHbbM800_600_->Rebin(3,"monoHbbM800_600_",metbins);
    monoHbbM1000_600_->Rebin(3,"monoHbbM1000_600_",metbins);
    monoHbbM1200_600_->Rebin(3,"monoHbbM1200_600_",metbins);
    monoHbbM1400_600_->Rebin(3,"monoHbbM1400_600_",metbins);
    monoHbbM1700_600_->Rebin(3,"monoHbbM1700_600_",metbins);
    monoHbbM2000_600_->Rebin(3,"monoHbbM2000_600_",metbins);
    monoHbbM2500_600_->Rebin(3,"monoHbbM2500_600_",metbins);
    monoHbbM1200_700_->Rebin(3,"monoHbbM1200_700_",metbins);
    monoHbbM1400_700_->Rebin(3,"monoHbbM1400_700_",metbins);
    monoHbbM1700_700_->Rebin(3,"monoHbbM1700_700_",metbins);
    monoHbbM2000_700_->Rebin(3,"monoHbbM2000_700_",metbins);
    monoHbbM2500_700_->Rebin(3,"monoHbbM2500_700_",metbins);
    monoHbbM1000_800_->Rebin(3,"monoHbbM1000_800_",metbins);
    monoHbbM1200_800_->Rebin(3,"monoHbbM1200_800_",metbins);
    monoHbbM1400_800_->Rebin(3,"monoHbbM1400_800_",metbins);
    monoHbbM1700_800_->Rebin(3,"monoHbbM1700_800_",metbins);
    monoHbbM2000_800_->Rebin(3,"monoHbbM2000_800_",metbins);
    monoHbbM2500_800_->Rebin(3,"monoHbbM2500_800_",metbins);

    
    
    std::cout<<" nbins = "<<TT_1->GetNbinsX()<<std::endl;

    //f->cd();
    TT_1->Write();
  DIBOSON_->Write();
  DYJets_->Write();
  WJets_->Write();
  ZH_->Write();
  monoHbbM600_300_->Write();
  monoHbbM800_300_->Write();
  monoHbbM1000_300_->Write();
  monoHbbM1200_300_->Write();
  monoHbbM1400_300_->Write();
  monoHbbM1700_300_->Write();
  monoHbbM2000_300_->Write();
  monoHbbM2500_300_->Write();
  monoHbbM600_400_->Write();
  monoHbbM800_400_->Write();
  monoHbbM1000_400_->Write();
  monoHbbM1200_400_->Write();
  monoHbbM1400_400_->Write();
  monoHbbM1700_400_->Write();
  monoHbbM2000_400_->Write();
  monoHbbM2500_400_->Write();
  monoHbbM800_500_->Write();
  monoHbbM1000_500_->Write();
  monoHbbM1200_500_->Write();
  monoHbbM1400_500_->Write();
  monoHbbM1700_500_->Write();
  monoHbbM2000_500_->Write();
  monoHbbM2500_500_->Write();
  monoHbbM800_600_->Write();
  monoHbbM1000_600_->Write();
  monoHbbM1200_600_->Write();
  monoHbbM1400_600_->Write();
  monoHbbM1700_600_->Write();
  monoHbbM2000_600_->Write();
  monoHbbM2500_600_->Write();
  monoHbbM1200_700_->Write();
  monoHbbM1400_700_->Write();
  monoHbbM1700_700_->Write();
  monoHbbM2000_700_->Write();
  monoHbbM2500_700_->Write();
  monoHbbM1000_800_->Write();
  monoHbbM1200_800_->Write();
  monoHbbM1400_800_->Write();
  monoHbbM1700_800_->Write();
  monoHbbM2000_800_->Write();
  monoHbbM2500_800_->Write();

}
